!function(a){a.fn.yeditable=function(d){var g=defaultConfig={inputAutoSize:true,inputAutoClass:false,styleClass:"",inputStyle:"input",sync:false,syncMethod:"get",syncUrl:"",composeSyncParam:function(e,j){return"data="+j},syncSucceed:function(e){return true},onSyncFailed:function(){},convert:function(e,j){return j},validate:function(e,j){return true},onBeforeEdit:function(e){return true},onAfterEdit:function(e,j){}},h,f,c,i,b;d=d||{};for(h in defaultConfig){g[h]=d[h]||defaultConfig[h]}g.inputStyle=/^(input|textarea)$/i.test(g.inputStyle)?g.inputStyle:"input";f=a(this);c=function(j,k,e,l){j.text(l).show();k.hide();g.onAfterEdit.call(j,e,l)};i=function(j,k){if(!k.is(":visible")){return}var e=j.text(),l=k.val();l=g.convert.call(j,e,l);if(!g.validate.call(j,e,l)){return false}if(g.sync){a.ajax({url:g.syncUrl,type:g.syncMethod,data:g.composeSyncParam.call(j,e,l),success:function(m){if(g.syncSucceed.call(j,m)){c(j,k,e,l)}else{this.error()}},error:function(){g.onSyncFailed.call(j);c(j,k,l,e)}})}else{c(j,k,e,l)}};b=function(e,j){j.val(e.hide().text()).addClass(g.inputAutoClass?e.attr("class"):styleClass).show().focus();g.inputAutoSize&&j.css({width:e.width()+"px",height:e.height()+"px"})};a.each(f,function(k,e){var l=a("<"+g.inputStyle+"/>").attr({type:"text"}).css({display:"none"}),j=a(e);l.insertBefore(j);l.on("blur",function(){i(j,l)});g.inputStyle==="input"&&l.on("keypress",function(m){m.keyCode==13&&i(j,l)});j.on("dblclick",function(){if(g.onBeforeEdit.call(j,j.text(),l.val())){b(j,l)}})});return this}}(jQuery);