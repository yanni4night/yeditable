/*
 * jQuery yEditable Plugin 0.0.1
 * https://github.com/yanni4night/yeditable
 *
 * Copyright 2013,yinyong
 * Email:yanni4night@gmail.com
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
(function(a){a.fn.yeditable=function(c){var g=defaultConfig={inputAutoSize:true,inputAutoClass:false,styleClass:"",inputType:"input",validate:function(e,j){return true},onEditSucceed:function(e,j){},onEditFailed:function(e,j){},onBeforeEdit:function(e){return true},onAfterEdit:function(e,j){}},h,d=a(this),f,i,b;c=c||{};for(h in defaultConfig){g[h]=c[h]||defaultConfig[h]}g.inputType=/^(input|textarea)$/i.test(g.inputType)?g.inputType:"input";i=function(j,k,e,l){j.show();k.hide();g.onAfterEdit.call(j,e,l)};f=function(j,k){var l=k.val(),e=j.text();if(g.validate.call(j,e,l)){j.text(l);g.onEditSucceed.call(j,e,l)}else{g.onEditFailed.call(j,e,l)}i(j,k,e,l)};b=function(e,j){j.val(e.hide().text()).addClass(g.inputAutoClass?e.attr("class"):styleClass).show().focus();g.inputAutoSize&&j.css({width:e.width()+"px",height:e.height()+"px"})};a.each(d,function(k,e){var l=a("<"+g.inputType+"/>").attr({type:"text"}).css({display:"none"}),j=a(e);l.insertBefore(j);l.on("blur",function(){f(j,l)});g.inputType==="input"&&l.on("keypress",function(m){(m.keyCode==13)&&f(j,l)});j.on("dblclick",function(){if(g.onBeforeEdit.call(j,j.text(),l.val())){b(j,l)}})});return this}})(jQuery);